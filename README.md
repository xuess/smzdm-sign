>æœ¬é¡¹ç›®æ˜¯åŸºäº`nodejs`å¼€å‘ï¼Œå®ç°çš„åŠŸèƒ½æ˜¯ï¼Œ`ä»€ä¹ˆå€¼å¾—ä¹°`è‡ªåŠ¨ç­¾åˆ°ï¼Œè‡ªåŠ¨è¯„è®ºåŠŸèƒ½ï¼Œè‡ªåŠ¨å‘é‚®ä»¶ï¼Œæ”¯æŒå¤šäººå¤šè´¦å·è¿è¡Œ
>
>ç›®çš„æ˜¯ä¸ºäº†ï¼Œè§£æ”¾åŒæ‰‹ï¼Œè½»æ¾è·å–`ä»€ä¹ˆå€¼å¾—ä¹°`çš„`ç»éªŒ`å’Œ`ç§¯åˆ†`ï¼Œå¾—åˆ°æ›´é«˜çš„`ç­‰çº§`ï¼Œä»è€Œçªç ´å¾ˆä¼šå‘˜ç­‰çº§é™åˆ¶ï¼Œå¦‚é¢†å–éƒ¨åˆ†ç´§ä¿çš„ä¼˜æƒ åˆ¸
>
>é¡¹ç›®è¿è¡Œå³æ‰§è¡Œ`ç­¾åˆ°`å’Œ`è¯„è®º`
>
>ç›®å‰è§„åˆ™ï¼šæ¯å¤©`5:10` æ‰§è¡Œç­¾åˆ°å’Œè¯„è®ºåŠŸèƒ½ï¼Œ`17:30`æ‰§è¡Œ`ç­¾åˆ°ç»“æœ`é‚®ä»¶å‘é€åŠŸèƒ½ï¼Œæ‰§è¡Œé—´éš”ä¸ºéšæœºæ—¶é—´ï¼Œå¯è‡ªè¡Œä¿®æ”¹ã€‚
>
>ç”±äºå€¼å¾—ä¹°ï¼Œæ¯å¤©å‰ä¸‰æ¡ï¼Œå‘é€è¯„è®ºæœ‰`ç»éªŒ`å’Œ`ç§¯åˆ†`ï¼Œæ•…è¯¥é¡¹ç›®æ¯å¤©ä¼šéšæœºå‘é€`3`æ¡è¯„è®ºï¼Œè¯„è®ºå†…å®¹è¯·åˆ°`config.js`æ–‡ä»¶ä¸­é…ç½®
>
>
>å¦‚æœ‰æ¡ä»¶ï¼Œè¯·æ‰§è¡Œåœ¨`vps`ã€`æ ‘è“æ´¾`ä¸Š
>
>æœ¬é¡¹ç›®gitbubåœ°å€: [https://github.com/xuess/smzdm-sign](https://github.com/xuess/smzdm-sign)
>
>å–œæ¬¢è¯·`star`ï¼Œæœ‰ä¸æ˜ç™½çš„åœ°æ–¹ï¼Œæ¬¢è¿æé—®
>
> äº¬ä¸œã€è‹å®è‡ªåŠ¨ç­¾åˆ°é¡¹ç›®ï¼š[https://github.com/xuess/nightmare-sign](https://github.com/xuess/nightmare-sign)

# é¡¹ç›®çš„é…ç½®ä¸è¿è¡Œ

éœ€è¦å‡†å¤‡

* qqé‚®ç®±ï¼Œè´¦å·å’Œå¯†ç ï¼Œç”¨äºå‘é€é‚®ä»¶
* ä»€ä¹ˆå€¼å¾—ä¹°çš„è´¦å·`cookie`
* å¯ä»¥æ‰§è¡Œ`nodejs`çš„è¿è¡Œç¯å¢ƒ
* (ä¸å¿…é¡»)å¯24å°æ—¶å¼€æœºçš„è¿è¡Œç¯å¢ƒ



## è·å–ä»€ä¹ˆå€¼å¾—ä¹°`cookie`æ–¹æ³•

* 1.é¦–å…ˆ ä½¿ç”¨`chromeæµè§ˆå™¨`ï¼Œè®¿é—® `ä»€ä¹ˆå€¼å¾—ä¹°pcç«¯`ï¼Œ ç™»é™† `ä»€ä¹ˆå€¼å¾—ä¹°` è´¦å·
* 2.æ‰“å¼€`å¼€å‘è€…å·¥å…·`, `win`ç³»ç»Ÿ å¿«æ·é”® `F12` ï¼Œ`mac` å¿«æ·é”® `option + command + i`
* 3.æ‰“å¼€`å¼€å‘è€…å·¥å…·` ä¸­çš„ `Network`é€‰é¡¹å¡ï¼Œ**åˆ·æ–°é¡µé¢** ,ç„¶åé€‰ç¬¬ä¸€ä¸ª `www.smzdm.com`,ç„¶åæ‰¾åˆ°å³ä¾§çš„ `Cookie`å­—æ®µï¼Œå¤åˆ¶å‡ºæ¥ã€‚ 


å¦‚å›¾æ“ä½œï¼š

![](img/smzdm-cookie.png)


## å¡«å†™cookieä¿¡æ¯

æ‰“å¼€é¡¹ç›®æ–‡ä»¶ `config.js` ï¼Œæ‰¾åˆ°`cookie`

> åˆ«å¿˜è®°å¡«**é‚®ç®±ä¿¡æ¯**å’Œ**è¯„è®ºåˆ—è¡¨** ç­‰å…¶ä»–ä¿¡æ¯

å¦‚å›¾ï¼š

![](img/config.png)

## å…³äºé…ç½®é‚®ç®±

é…ç½®ç›¸å…³ä»£ç ä½ç½®ï¼š`lib/mail.js` line 11

æœ¬é¡¹ç›®ä½¿ç”¨çš„æ˜¯  `nodemailer` å‘é€é‚®ä»¶ï¼Œå¦‚é‡é—®é¢˜ï¼Œå¯ä»¥æœç´¢æ­¤å…³é”®å­—ã€‚

æœ¬é¡¹ç›®ä¸­ç»™çš„æ˜¯`qqé‚®ç®±`ï¼Œå…¶ä»–é‚®ç®±ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

ğŸ‘‡ç»™å‡ºå…¶ä»–é‚®ä»¶é…ç½®ä¿¡æ¯ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚

```
// é‚®ç®±æ”¯æŒåˆ—è¡¨
https://nodemailer.com/smtp/well-known/ 
// é‚®ç®±é…ç½®ä¿¡æ¯ åˆ—è¡¨
https://github.com/nodemailer/nodemailer-wellknown/blob/master/services.json
```

> æ³¨æ„é‚®ç®±è¦å¼€å¯ POP3/SMTP/IMAPæœåŠ¡ï¼Œç”±äºç¬¬ä¸‰æ–¹ç™»é™†ï¼Œæœ‰äº›éœ€è¦é…ç½®ç­¾åæˆ–æˆæƒç ï¼Œç™»é™†å¯†ç ä¸ºè®¾ç½®çš„ç­¾åæˆ–æˆæƒç ã€‚


## é…ç½®å¤šè´¦å·

> å¦‚é…ç½®å¤šä¸ªè´¦å·ï¼Œè¯·å¤åˆ¶ä¸‹é¢ä»£ç æ ¼å¼ï¼Œå¡«å†™å¤šä¸ªã€‚


```javascript
	{
		'username': 'éå¿…å¡«ï¼Œç”¨æˆ·å‘é€é‚®ä»¶å±•ç¤º',
		'phone': 'éå¿…å¡«ï¼Œç”¨æˆ·å‘é€é‚®ä»¶å±•ç¤º',
		'cookies': 'å¿…å¡«ï¼Œå–è‡ªç”¨æˆ·ç™»å½•åçš„cookieï¼Œè·å–æ–¹æ³•è§è¯´æ˜æ–‡æ¡£'
	},
```

ç¼–è¾‘å®Œæˆåï¼Œå¦‚ä¸‹å³å¯ã€‚

```javascript
//ç”¨äºç­¾åˆ°çš„ è´¦å·ä¿¡æ¯ åˆ—è¡¨
const cookieListValKey = [
	{
		'username': 'ç”¨æˆ·å1',
		'phone': 'æ‰‹æœº1',
		'cookies': 'cookie1'
	},
	{
		'username': 'ç”¨æˆ·å2',
		'phone': 'æ‰‹æœº2',
		'cookies': 'cookie2'
	},
	{
		'username': 'ç”¨æˆ·å3',
		'phone': 'æ‰‹æœº3',
		'cookies': 'cookie3'
	},
];

```



## è¿è¡Œ 

```bash
# å…ˆå®‰è£…ä¾èµ– æ–‡ä»¶
npm i

#æ‰§è¡Œè„šæœ¬
node smzdm.js

#æˆ–
npm run dev

#åå°è¿è¡Œæ‰§è¡Œè„šæœ¬
nohup node smzdm.js &

#æˆ–
nohup npm run dev &

```

### å¦‚æœéœ€è¦é•¿æ—¶é—´è¿è¡Œ è¯·ç”¨`pm2è¿›ç¨‹ç®¡ç†å·¥å…·`

```bash
#å…¨å±€å®‰è£…pm2
npm i pm2 -g 

#å¯åŠ¨ç­¾åˆ°è¿›ç¨‹
pm2 start smzdm.js

#æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çŠ¶æ€
pm2 list 

#ç›‘è§†æ‰€æœ‰è¿›ç¨‹
pm2 monit              

#æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹æ—¥å¿—
pm2 logs

```

> å…³äº`pm2`çš„è¯¦ç»†ä½¿ç”¨ä»‹ç»è¯·çœ‹  --> [https://www.xueshanshan.com/post/node-npm-pm2.html](https://www.xueshanshan.com/post/node-npm-pm2.html)


## å®šæ—¶é‚®ä»¶ å‘é€æ•ˆæœ

![](img/email.png) 



